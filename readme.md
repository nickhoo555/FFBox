# FFBox ğŸ‘‹

ä¸€ä¸ªå¤šåª’ä½“è½¬ç ç™¾å®ç®± / ä¸€ä¸ª FFmpeg çš„å¥—å£³  

è½¯ä»¶ä»‹ç»è¯·è½¬åˆ° [FFBox å®˜ç½‘](http://ffbox.ttqf.tech/)ã€‚

![è½¯ä»¶æˆªå›¾](https://github.com/ttqftech/FFBox/assets/31009285/8659b34d-4aac-4caa-9ea3-dfdb81ce1f68)

## å·¥ç¨‹ç®€ä»‹

æ‚¨ç°åœ¨çœ‹åˆ°çš„æ˜¯ 4.x ç‰ˆæœ¬çš„ readme æ–‡ä»¶ã€‚FFBox åœ¨ä¸åŒçš„å¤§ç‰ˆæœ¬ä¹‹é—´ï¼Œä½¿ç”¨çš„æŠ€æœ¯/æ¡†æ¶å­˜åœ¨åŒºåˆ«ã€‚è‹¥éœ€æŸ¥é˜…ç‰ˆæœ¬å¯¹åº”çš„ readmeï¼Œå»ºè®®åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯ã€‚

- `1.x ç‰ˆæœ¬`ï¼šç»å…¸çš„â€œhtml + css + jsâ€å‰ç«¯ä¸‰ä»¶å¥—ï¼Œæ²¡æœ‰å·¥ç¨‹åŒ–å’Œæ¨¡å—åŒ–ã€‚
- `2.x ç‰ˆæœ¬`ï¼šä½¿ç”¨ vue 2 è¿›è¡Œå·¥ç¨‹åŒ–ã€æ¨¡å—åŒ–å¼€å‘ã€‚ä¸»è¦æ§åˆ¶é€»è¾‘é›†ä¸­åœ¨çŠ¶æ€ç®¡ç†å™¨ä¸Šã€‚
- `3.x ç‰ˆæœ¬`ï¼šæ›´å¥½çš„é«˜èšä½è€¦ä¸å·¥ç¨‹ç»“æ„ï¼ŒæœåŠ¡ä¸ UI åˆ†ç¦»ï¼Œå¼•å…¥ TypeScriptï¼Œæ”¯æŒè¿œç¨‹æ§åˆ¶ã€‚
- `4.x ç‰ˆæœ¬`ï¼šå…¨æ–°ç•Œé¢ï¼Œä½¿ç”¨æ›´æ–°ã€æ›´å¤šæ ·çš„æŠ€æœ¯æ¶æ„ï¼Œè‡ªè¡Œç¼–å†™å¼€å‘ä¸æ‰“åŒ…è„šæœ¬ï¼Œå½»åº•åˆ†ç¦»å‰åç«¯ã€‚

## å‡†å¤‡è‡ªè¡Œç¼–è¯‘

ç”±äºè¿™é‡Œä¸æ˜¯å‰ç«¯è¯¾å ‚ï¼Œæ­¤å¤„å½“ç„¶ä¸ä¼šæœ‰æ‰‹æŠŠæ‰‹çš„è¯¦ç»†æŒ‡å—ğŸŒšã€‚ä»¥ä¸‹ä¼šåˆ—å‡ºä¸€äº›éœ€è¦çš„ä¸œè¥¿ï¼Œæ‚¨å¯è‡ªè¡Œäº†è§£ï¼š

1. `Visual Studio Code`ï¼šè¿™æ˜¯æœ¬é¡¹ç›®æ¨èä½¿ç”¨çš„ç¼–è¾‘å™¨ã€‚æœ¬é¡¹ç›®å·²ä¸ºè¯¥ç¼–è¾‘å™¨è¿›è¡Œäº†å¯åŠ¨åç«¯ç­‰ç›¸å…³ä»»åŠ¡çš„ç¼–å†™ã€‚
2. `node.js`ï¼šå®ƒæ˜¯ä¸€ä¸ª JavaScript è¿è¡Œç¯å¢ƒï¼Œä¸»è¦ç”¨äºé¡¹ç›®çš„ç¼–è¯‘ã€‚å»ºè®®ä½¿ç”¨ `nvm`ï¼Œå½“é¡¹ç›®è¿è¡Œä¸èµ·æ¥çš„æ—¶å€™å¯å°è¯•ä½¿ç”¨å®ƒæ¥åˆ‡æ¢ä¸€ä¸‹ node.js çš„ç‰ˆæœ¬ã€‚
3. `pnpm`ï¼šå®ƒæ˜¯æœ¬é¡¹ç›®æ¨èä½¿ç”¨çš„ä¾èµ–ç®¡ç†å™¨ã€‚
4. `pnpm set registry ___` `pnpm set ELECTRON_MIRROR`ï¼šå¦‚æœæ‚¨æ— æ³•æ­£å¸¸ä¸‹è½½ä¾èµ–ï¼Œè¯·é…ç½®æºã€‚
5. `Visual Studio 2022`ï¼šå¦‚æœæ‚¨è¦åœ¨ Windows å¹³å°ä¸Šç¼–è¯‘ FFBoxHelperï¼Œé‚£ä¹ˆè¿™æ˜¯å¿…é¡»çš„ã€‚

## FFmpeg

æœ¬é¡¹ç›®å¹¶ä¸è‡ªå¸¦ FFmpegã€‚å¦‚æœæ‚¨æ²¡æœ‰ FFmpegï¼Œé‚£ä¹ˆ FFBox åªèƒ½ä¸ºæ‚¨å±•ç¤ºå¯åŠ¨å‘½ä»¤ï¼Œä¸èƒ½è¿›è¡Œè½¬ç å·¥ä½œã€‚æ‚¨éœ€è¦åœ¨ [FFmpeg ä¸‹è½½é¡µé¢](http://ffmpeg.org/download.html) ä¸‹è½½ FFmpeg åï¼Œæ ¹æ® FFBox çš„æŒ‡ç¤ºï¼Œå°†å…¶æ”¾å…¥ç³»ç»Ÿè·¯å¾„ï¼ˆæ¨èï¼‰æˆ–ç¨‹åºç›®å½•ä¸­ã€‚

## å¼€å‘ä¸æ‰“åŒ…æµç¨‹

```mermaid
flowchart TB
  subgraph DFmjs[dev-frontend.mjs]
    IPE1[injectProcessEnv] --> CSR["createServer(renderer)"] --> watchPreload --> watchMain
  end
  subgraph BBmjs[build-backend.mjs]
    IPE2[injectProcessEnv] --> BB1["buildBackend"]
  end
  subgraph BBmjs2[build-backend.mjs]
    IPE3[injectProcessEnv] --> BB2["buildBackend"]
  end
  subgraph BFmjs[build-frontend.mjs]
    IPE4[injectProcessEnv] --> buildMain --> buildPreload --> buildRenderer
  end
  subgraph VCLaunchB["vscode launch ç¼–è¯‘è°ƒè¯•åç«¯ (vite)"]
    VSTask["vscode task å¯åŠ¨"] --> BBmjs2
  end
  subgraph ç”Ÿäº§å‰ç«¯["ç”Ÿäº§å‰ç«¯ã€npm run build:frontendã€‘"]
    BFmjs
  end
  subgraph ç”Ÿäº§åç«¯["ç”Ÿäº§åç«¯ã€npm run build:backendã€‘"]
    BBmjs --> PB[pkg:backend]
  end
  subgraph å¼€å‘å‰ç«¯["å¼€å‘å‰ç«¯ã€npm run dev:frontendã€‘"]
    DFmjs
  end
  subgraph å¼€å‘åç«¯["å¼€å‘åç«¯ã€vscode F5ã€‘"]
    VCLaunchB
  end

  æ³¨1[æ³¨æ„ Windows Helper éœ€è¦ä½¿ç”¨ VS æ‰‹åŠ¨ç¼–è¯‘å¹¶æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•]
  å¼€å‘("å¼€å‘") --> å¼€å‘åç«¯ --> å¼€å‘å‰ç«¯
  æ‰“åŒ…("æ‰“åŒ…") --> ç”Ÿäº§åç«¯ & ç”Ÿäº§å‰ç«¯ --> pkg["npm run package"]
  æ³¨1 --> å¼€å‘ & æ‰“åŒ…[æ‰“åŒ…ã€npm run build:everythingã€‘]
```
